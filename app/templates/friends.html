{% extends "base.html" %}
{% block content %}
<h1>Friends</h1>

<h2>Existing Friends</h2>
<ul class="friends-list">
    {% for friend in friends %}
        <li>{{ friend.first_name }} {{ friend.last_name }} ({{ friend.email }})</li>
    {% endfor %}
</ul>

<h2>Search Users</h2>
<form method="POST" action="{{ url_for('main.search_friends') }}" class="form-section">
    {{ search_form.hidden_tag() }}
    <div class="form-group">
        <label class="form-label" for="search">{{ search_form.search.label }}</label>
        {{ search_form.search(class="form-control") }}
    </div>
    <div class="form-group">
        {{ search_form.submit(class="btn btn-primary") }}
    </div>
</form>

<h2>Search Results</h2>
<ul class="search-results">
    {% for user in search_results %}
        <li>
            {{ user.first_name }} {{ user.last_name }} ({{ user.email }})
            <form method="POST" action="{{ url_for('main.add_friend', user_id=user.id) }}" class="inline-form">
                {{ add_friend_form.hidden_tag() }}
                {{ add_friend_form.submit(class="btn btn-secondary") }}
            </form>
        </li>
    {% endfor %}
</ul>
{% endblock %}
